/*! financing_clearing_system v1.0.0
*  by [object Object]
*  (c) 2014-2016 www.frontpay.cn
* updated on 2016-11-14
*  Licensed under Apache-2.0
*/
 window.console=window.console||{log:function(str){alert(str)},warn:function(str){alert(str)}},require.config({paths:{echarts:"/javascript/echarts-2.7",app:"/javascript/app/chart"}});var currencyFormat=function(){return function(n,digit){digit=digit||2,n=n.toFixed(digit).toString();var parts=n.split(".");return parts[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+"."+parts[1]}}(),renderChartHandler=function(){var Handler={init:function(type,id,data,callback){var modules=["echarts","echarts/theme/pay_macarons"];if(type.match(/&/g)){type=type.split("&");for(var i=0;i<type.length;i++)modules.push("echarts/chart/"+type[i])}else modules.push("echarts/chart/"+type);require(modules,this.callback(id,data,callback))},callback:function(id,data,callback){return function(ec,theme){var container=document.getElementById(id),myChart=ec.init(container,theme);myChart.showLoading({effect:"ring"}),myChart.setOption(data),myChart.hideLoading(),"function"==typeof callback&&callback(myChart)}}};return function(){Handler.init.apply(Handler,arguments)}}(),setChartOption=function(){var Handler={bar:function(original,target,itemStyle){for(var legend=[],axisLabel=[],series=[],item=[],d=[],s=[],i=0,l=target.length;i<l;i++){item=target[i],d=item.data,legend.push(item.name);for(var j=0,k=d.length;j<k;j++)0===i&&axisLabel.push(d[j].name),s.push(d[j].value);item.stack?series.push({name:item.name,stack:item.stack,type:item.type||"bar",data:s,barMaxWidth:30}):series.push({name:item.name,type:item.type||"bar",data:s,barMaxWidth:30}),s=[]}return original.legend.data=legend,original.series=series,original.xAxis[0].data=axisLabel,itemStyle&&(original.legend.itemStyle=itemStyle),original},line:function(original,target,itemStyle){for(var legend=[],axisLabel=[],series=[],item=[],d=[],s=[],i=0,l=target.length;i<l;i++){item=target[i],d=item.data,legend.push(item.name);for(var j=0,k=d.length;j<k;j++)0===i&&axisLabel.push(d[j].name),s.push(d[j].value);series.push({name:item.name,type:"line",data:s}),s=[]}return original.legend.data=legend,original.series=series,original.xAxis[0].data=axisLabel,itemStyle&&(original.legend.itemStyle=itemStyle),original},pie:function(original,target){for(var legend=[],i=0,l=target.length;i<l;i++)legend.push(target[i].name);return original.legend.data=legend,original.series[0].data=target,original},map:function(original,target){return original.series[0].data=target,original}};return function(type,original,target){return Handler[type]&&Handler[type](original,target)}}(),getOption=function(){return function(str){return new Function("return "+str)()}}();$(function(){$("#j-chart-tab").on("click",".tabs-btn",function(e){$(this).tab("show"),e.preventDefault()}),$("#j-chart-tab .tabs-btn").on("shown.ui.tab",function(e){var path=$(this).attr("data-path"),loaded=$(this).data("loaded"),option=getOption($(this).data("chart"));loaded||($(this).data("loaded",!0),path&&require(["app/"+path],function(callback){callback(option)}))}),$("#j-chart-tab .tabs-btn").eq(0).trigger("click"),~function(){var $moreBtn=$("#j-more-btn"),moreBtnText=$moreBtn.html(),moreBtnText2=$moreBtn.attr("data-text"),moreOpen=!1;$moreBtn.on("click",function(){moreOpen=!moreOpen,$(this).html(moreOpen?moreBtnText2:moreBtnText).parent()[moreOpen?"addClass":"removeClass"]("mod-more-open")})}()});