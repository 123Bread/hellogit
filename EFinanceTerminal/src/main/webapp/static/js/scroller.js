/*! financing_clearing_system v1.0.0
*  by [object Object]
*  (c) 2014-2016 www.frontpay.cn
* updated on 2016-11-14
*  Licensed under Apache-2.0
*/
 !function(parent){function ScrollPanel(props){this.fragment=null,this.div=null,this.innerDdiv=null,this.direction=props.direction||null,this.interval=props.interval||0,this.amount=props.amount||0,this.width=props.width||0,this.height=props.amount||0,this.textAlign=props.textAlign||"center",this.upperBound=props.upperBound||9,this.forceFallback=props.forceFallback||!1,this.mode=props._mode||Scroller.MODE.COUNTUP,this.stepSize=Math.ceil(1*(this.amount+1)/10)||2,this.stepInterval=0,this.step=1,this.startNum=1,this.endNum=1,this.nextNum=1,this.firstChild=null,this.lastChild=null,this.count=0}function CSSTransitionScrollPanel(props){ScrollPanel.call(this,props)}function DOMScrollPanel(props){ScrollPanel.call(this,props),this.scrolledAmount=0,this.scrollID=null}var Util={extend:function(sup,sub){return sub.prototype=Object.create(sup.prototype),sub.prototype.constructor=sup,sub},clone:function(obj){if(null==obj||"object"!=typeof obj)return obj;var copy=obj.constructor();for(var attr in obj)obj.hasOwnProperty(attr)&&(copy[attr]=obj[attr]);return copy}};ScrollPanel.prototype=function(){return{init:function(){switch(this.fragment=document.createDocumentFragment(),this.div=document.createElement("div"),this.div.className="scroller",this.div.setAttribute("style","position:relative;overflow:hidden;width:"+this.width+"px;text-align:"+this.textAlign+";height:"+this.height+"px;line-height:"+this.height+"px;"),this.innerDiv=document.createElement("div"),this.innerDiv.className="scroller-inner-pane",this.innerDiv.setAttribute("style","position:absolute;width:"+this.width+"px;text-align:"+this.textAlign+";top:0;"),this.firstChild=document.createElement("span"),this.firstChild.className="scroller-span",this.firstChild.setAttribute("style","position:absolute;height:"+this.height+"px;line-height:"+this.height+"px;left:0px;top:0px;width:"+this.width+"px;"),this.innerDiv.appendChild(this.firstChild),this.lastChild=document.createElement("span"),this.lastChild.className="scroller-span",this.lastChild.setAttribute("style","position:absolute;height:"+this.height+"px;line-height:"+this.height+"px;left:0px;width:"+this.width+"px;"),this.direction){case Scroller.DIRECTION.UP:this.innerDiv.appendChild(this.lastChild),this.lastChild.style.top=this.height+"px";break;case Scroller.DIRECTION.DOWN:this.innerDiv.insertBefore(this.lastChild,this.firstChild),this.lastChild.style.top=-this.height+"px"}return this.div.appendChild(this.innerDiv),this.fragment.appendChild(this.div),this.innerInit(),this},innerInit:function(){},start:function(start,end){start=parseInt(start),end=parseInt(end),this.startNum=start,this.endNum=end,this.nextNum=this.startNum,this.mode==Scroller.MODE.COUNTDOWN?start!=end?this.step=this.endNum>this.startNum?this.startNum+(this.upperBound+1)-this.endNum:this.startNum-this.endNum:this.step=Number.MAX_VALUE:start!=end?this.step=this.endNum<this.startNum?this.endNum+(this.upperBound+1)-this.startNum:this.endNum-this.startNum:this.step=Number.MAX_VALUE,this.firstChild.innerHTML=this.startNum,this.lastChild.innerHTML=this.nextNum,this.innerStart(),this.iterate()},innerStart:function(){},iterate:function(){this.nextNum==this.endNum&&this.lastChild.innerHTML==this.endNum||(this.nextNum==this.endNum&&(this.nextNum=parseInt(this.lastChild.innerHTML)),this.mode==Scroller.MODE.COUNTDOWN?this.nextNum=0==this.nextNum?this.upperBound:this.nextNum-1:this.nextNum=this.nextNum==this.upperBound?0:this.nextNum+1,this.innerIterate())},innerIterate:function(){},scroll:function(){},stop:function(){},revalidate:function(){this.nextNum=parseInt(this.nextNum),this.endNum=parseInt(this.endNum),this.nextNum!=this.endNum&&(this.mode==Scroller.MODE.COUNTDOWN?this.nextNum!=this.endNum?this.step=this.endNum>this.nextNum?this.nextNum+(this.upperBound+1)-this.endNum:this.nextNum-this.endNum:this.step=Number.MAX_VALUE:this.nextNum!=this.endNum?this.step=this.endNum<this.nextNum?this.endNum+(this.upperBound+1)-this.nextNum:this.endNum-this.nextNum:this.step=Number.MAX_VALUE,this.innerRevalidate())},innerRevalidate:function(){},resetPosition:function(){this.innerDiv.style.top="0px",this.innerDiv.offsetHeight},getPanel:function(){return this.fragment},setEndNum:function(endNumber){this.endNum=endNumber},setMode:function(mode){this.mode=mode}}}(),Util.extend(ScrollPanel,CSSTransitionScrollPanel),CSSTransitionScrollPanel.prototype._props={},CSSTransitionScrollPanel.prototype._cssPropMap={"transition-timing-function":"TransitionTimingFunction","transition-duration":"TransitionDuration",transform:"Transform"},CSSTransitionScrollPanel.prototype._set=function(obj,type,value){if(this._props[type])obj.style.setProperty(this._props[type],value,"important");else{var modes="-webkit- -moz- -ms- -o-".split(" ");CSSTransitionScrollPanel.prototype._props[type]=type;for(var i=0,len=modes.length;i<len;++i){var mode=modes[i].replace(/-/g,"");mode="moz"==mode?"Moz":mode;var jsStyleProp=mode+CSSTransitionScrollPanel.prototype._cssPropMap[type];if(void 0!==obj.style[jsStyleProp]){CSSTransitionScrollPanel.prototype._props[type]=modes[i]+type;break}}this._set(obj,type,value)}},CSSTransitionScrollPanel.prototype._addEventListener=function(obj,that){var transitions={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"};for(var t in transitions)if(void 0!==obj.style[t]){obj.addEventListener(transitions[t],function(event){var transitionDuration=obj.style.transitionDuration||obj.style.webkitTransitionDuration;"0ms"!=transitionDuration&&that.stop()},!1);break}},CSSTransitionScrollPanel.prototype.innerInit=function(){this._addEventListener(this.innerDiv,this),this._set(this.innerDiv,"transition-timing-function","linear")},CSSTransitionScrollPanel.prototype.innerStart=function(){this.stepInterval=Math.max(1,Math.floor(1*this.interval/this.step)),this.direction==Scroller.DIRECTION.UP&&(this.amount=-this.amount)},CSSTransitionScrollPanel.prototype.innerIterate=function(){this.firstChild.innerHTML=this.lastChild.innerHTML,this.lastChild.innerHTML=this.nextNum,this.lastChild.offsetHeight;var that=this;setTimeout(function(){that.scroll()},0)},CSSTransitionScrollPanel.prototype.scroll=function(){var rand=1+Math.random()/1e5,transformProperty="translateY("+this.amount+"px) scaleX("+rand+")",durationProperty=this.stepInterval+"ms";this._set(this.innerDiv,"transition-duration",durationProperty),this._set(this.innerDiv,"transform",transformProperty)},CSSTransitionScrollPanel.prototype.stop=function(){var rand=1+Math.random()/1e5,transformProperty="translateY(0px) scaleX("+rand+")",durationProperty="0ms";this.firstChild.innerHTML=this.lastChild.innerHTML,this.lastChild.offsetHeight,this.nextNum=parseInt(this.lastChild.innerHTML),this._set(this.innerDiv,"transition-duration",durationProperty),this._set(this.innerDiv,"transform",transformProperty);var that=this;setTimeout(function(){that.iterate()},1)},CSSTransitionScrollPanel.prototype.innerRevalidate=function(){this.stepInterval=Math.max(1,Math.floor(1*this.interval/this.step))},Util.extend(ScrollPanel,DOMScrollPanel),DOMScrollPanel.prototype.innerStart=function(){this.stepInterval=Math.ceil(this.interval*this.stepSize/(this.amount*this.step))},DOMScrollPanel.prototype.innerIterate=function(){this.firstChild.innerHTML=this.lastChild.innerHTML,this.lastChild.innerHTML=this.nextNum,this.lastChild.offsetHeight,this.scroll()},DOMScrollPanel.prototype.scroll=function(){var innerDivStyle=this.innerDiv.style,top=parseInt(innerDivStyle.top);switch(this.direction){case Scroller.DIRECTION.UP:innerDivStyle.top=top-this.stepSize+"px";break;case Scroller.DIRECTION.DOWN:innerDivStyle.top=top+this.stepSize+"px"}if(this.scrolledAmount+=this.stepSize,this.scrolledAmount<this.amount){this.stepSize=Math.min(this.stepSize,this.amount-this.scrolledAmount);var that=this;this.scrollID=setTimeout(function(){that.scroll()},this.stepInterval)}else null!=this.scrollID&&clearTimeout(this.scrollID),this.stop(),this.iterate()},DOMScrollPanel.prototype.stop=function(){this.scrolledAmount=0,this.firstChild.innerHTML=this.lastChild.innerHTML,this.resetPosition()},DOMScrollPanel.prototype.innerRevalidate=function(){this.stepInterval=Math.ceil(this.interval*this.stepSize/(this.amount*this.step))};var ScrollPanelFactory=function(){function _detectTransformSupport(featureName){var isSupported=!1,domPrefixes="Webkit Moz ms O Khtml".split(" "),elm=document.createElement("div"),featureNameCapital=null;if(featureName=featureName.toLowerCase(),void 0!==elm.style[featureName]&&(isSupported=!0),isSupported===!1){featureNameCapital=featureName.charAt(0).toUpperCase()+featureName.substr(1);for(var i=0;i<domPrefixes.length;i++)if(void 0!==elm.style[domPrefixes[i]+featureNameCapital]){isSupported=!0;break}}return isSupported}var _isTransformSupported=_detectTransformSupport("transform");return{createScrollPanel:function(props){return _isTransformSupported&&!props.forceFallback?new CSSTransitionScrollPanel(props):new DOMScrollPanel(props)}}}(),Scroller=function(){function ScrollerImpl(props){this.scrollPanelArray=[],this.props=props,this.scrollPane=document.createElement("div"),this.table=null,this.beginNum=0,this.endNum=0,this.css=null,this.width=this.props.width,this.init(0,0)}function TimeScrollerImpl(props){ScrollerImpl.call(this,props)}var numOfComponent=0;ScrollerImpl.prototype={init:function(begin,end){this.clear(),this.oldCountArray=[],this.newCountArray=[],this.scrollPanelArray=[],this.beginNum=begin,this.endNum=end,begin+="",end+="";for(var beginLength=begin.length,endLength=end.length,i=0;i<beginLength;++i)this.oldCountArray.push(begin.charAt(i));for(var i=0;i<endLength;++i)this.newCountArray.push(end.charAt(i));var diff=Math.abs(beginLength-endLength),maxLength=Math.max(beginLength,endLength);if(beginLength>endLength)for(var i=1;i<=diff;++i)this.newCountArray.unshift("0");else if(beginLength<endLength)for(var i=1;i<=diff;++i)this.oldCountArray.unshift("0");var divFragment=document.createDocumentFragment();this.table=document.createElement("table"),this.table.className="scroller-table",this.table.setAttribute("style","margin:auto;"),null!=this.css&&this.setStyle(this.css);var indWidth=Math.floor(this.width/maxLength);this.props._mode=this.beginNum>this.endNum?Scroller.MODE.COUNTDOWN:Scroller.MODE.COUNTUP,this.props.width=indWidth,this.innerInit(maxLength),divFragment.appendChild(this.table),this.scrollPane.appendChild(divFragment);for(var i=0,len=this.oldCountArray.length;i<len;++i)this.scrollPanelArray[i].start(this.oldCountArray[i],this.oldCountArray[i])},innerInit:function(maxLength){var separatorCount=0;this.props.separatorType!==Scroller.SEPARATOR.NONE&&(separatorCount=this.props.separatorType+1-maxLength%this.props.separatorType);for(var tr=document.createElement("tr"),i=0;i<maxLength;++i){var td=document.createElement("td"),scrollPanel=ScrollPanelFactory.createScrollPanel(this.props).init();if(this.scrollPanelArray.push(scrollPanel),td.appendChild(scrollPanel.getPanel()),tr.appendChild(td),this.props.separatorType!=Scroller.SEPARATOR.NONE&&(i+separatorCount)%this.props.separatorType===0&&i+1<maxLength){var td=document.createElement("td"),div=document.createElement("div");div.className="scroller-separator-pane";var span=document.createElement("span");span.className="scroller-span",span.innerHTML=this.props.separator,div.setAttribute("style","height:"+(this.props.amount+10)+"px;line-height:"+this.props.amount+"px;left:0px;top:0px;vertical-align:middle;"),div.appendChild(span),td.appendChild(div),tr.appendChild(td)}}this.table.appendChild(tr)},appendTo:function(parent){return parent.appendChild(this.scrollPane),this},getScrollPanels:function(){return this.scrollPanelArray},setStyle:function(css){if(this.css=css,"string"==typeof css){var entries=css.split(";");for(var i in entries){var pair=entries[i].split(":"),key=pair[0],value=2==pair.length?pair[1]:"";this.isUnmodifiableStyle(key)||(this.table.style[key]=value)}}else if("object"==typeof css)for(var prop in css)this.table.style[prop]=css[prop]},isUnmodifiableStyle:function(propName){var unmodifiableAttributeNames=["position","overflow"];for(var i in unmodifiableAttributeNames)if(propName.toLowerCase()===unmodifiableAttributeNames[i])return!0;return!1},start:function(number){var count=0;count="number"==typeof number?parseInt(number)+"":number.trim().replace(/,/g,""),this.init(number,number)},scrollTo:function(number){var count=(number+"").trim().replace(/,:/g,"");if(count.length!=this.newCountArray.length)this.init(this.endNum,count);else{this.beginNum=this.endNum,this.oldCountArray=this.newCountArray,this.endNum=count,this.newCountArray=[],this.props._mode=this.beginNum>this.endNum?Scroller.MODE.COUNTDOWN:Scroller.MODE.COUNTUP;for(var i=0,len=count.length;i<len;++i)this.newCountArray.push(count.charAt(i))}this.refresh()},scrollFromTo:function(from,to){var from=(from+"").trim().replace(/,:/g,""),to=(to+"").trim().replace(/,:/g,"");this.start(from),this.scrollTo(to)},refresh:function(){var that=this;setTimeout(function(){for(var i=0,len=that.oldCountArray.length;i<len;++i)that.props._mode&&that.scrollPanelArray[i].setMode(that.props._mode),that.scrollPanelArray[i].setEndNum(that.newCountArray[i]),that.scrollPanelArray[i].revalidate(),that.scrollPanelArray[i].iterate()},1)},clear:function(){for(;this.scrollPane.firstChild;)this.scrollPane.removeChild(this.scrollPane.firstChild)}},Util.extend(ScrollerImpl,TimeScrollerImpl),TimeScrollerImpl.prototype.innerInit=function(maxLength){for(var separatorCount=this.props.separatorType+1-maxLength%this.props.separatorType,tr=document.createElement("tr"),i=0;i<maxLength;++i){var td=document.createElement("td"),props=Util.clone(this.props);i%2==0&&(0==i?props.upperBound=2:props.upperBound=5);var scrollPanel=ScrollPanelFactory.createScrollPanel(props).init();if(this.scrollPanelArray.push(scrollPanel),td.appendChild(scrollPanel.getPanel()),tr.appendChild(td),(i+separatorCount)%props.separatorType===0&&i+1<maxLength){var td=document.createElement("td"),div=document.createElement("div"),span=document.createElement("span");span.className="scroller-span",span.innerHTML=props.separator,div.setAttribute("style","height:"+(props.amount+10)+"px;line-height:"+props.amount+"px;left:0px;top:0px;vertical-align:middle;"),div.appendChild(span),td.appendChild(div),tr.appendChild(td)}}this.table.appendChild(tr)};var ScrollerImplFactory=function(){return{createScrollerImpl:function(props){var obj=null;switch(props.separatorType){case Scroller.SEPARATOR.TIME:obj=new TimeScrollerImpl(props);break;case Scroller.SEPARATOR.THOUSAND:default:obj=new ScrollerImpl(props)}return obj}}}();return{DIRECTION:{UP:1,DOWN:2},SEPARATOR:{NONE:0,TIME:2,THOUSAND:3},MODE:{COUNTUP:0,COUNTDOWN:1},getNewInstance:function(props){return numOfComponent++,props=props||{},props.direction=props.direction||Scroller.DIRECTION.UP,props.interval=props.interval||5e3,props.width=props.width||400,props.amount=props.amount||250,props.separatorType=props.separatorType||Scroller.SEPARATOR.NONE,props.separator=props.separator||"",props.textAlign=props.textAlign||"center",props.forceFallback=props.forceFallback||!1,ScrollerImplFactory.createScrollerImpl(props)},getScrollerSize:function(){return numOfComponent}}}();parent.Scroller=Scroller}(window);